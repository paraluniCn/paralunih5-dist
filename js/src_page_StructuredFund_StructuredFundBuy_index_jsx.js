"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["src_page_StructuredFund_StructuredFundBuy_index_jsx"],{73077:(e,t,r)=>{r.r(t),r.d(t,{default:()=>_});var n=r(15861),a=r(70885),c=r(64687),s=r.n(c),o=r(67294),u=r(68735),i=r(63474),f=r(55389),l=r(58733),d=r(67959),m=r(51837),p=r(72461),v=r(36871),w=r(28477),h=r(39439),b=(r(82769),r(4942)),E=r(64478);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){var t=e.show,r=void 0!==t&&t,n=e.onSuccess,c=void 0===n?function(){}:n,s=e.onClose,u=void 0===s?function(){}:s,i=(0,E.$)().t,f=(0,o.useState)({rate:2}),l=(0,a.Z)(f,2),p=l[0],v=l[1],w=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,b.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},p);t.rate=e&&Number(e),console.log(t),v(t)};return o.createElement(m.Z,{visible:r,direction:"bottom",mountContainer:function(){return document.body}},o.createElement("div",{className:"set-body"},o.createElement("div",{className:"title"},i("common.setting")),o.createElement("div",{className:"set-title"},i("page.StructuredFund.toleranceName")),o.createElement("div",{className:"set-content"},[2,1,3].map((function(e){return o.createElement("div",{className:"f1",key:e},o.createElement("div",{className:(null==p?void 0:p.rate)===e?"able":"def",onClick:function(){w(e)}},e,"%"))})),o.createElement("div",{className:"line-rate"},o.createElement("input",{type:"number",className:"rate",value:null==p?void 0:p.rate,onChange:function(e){return w(e.target.value)}}),"%")),null!=p&&p.rate&&(null==p?void 0:p.rate)<.5?o.createElement("div",{className:"error-text"},i("page.StructuredFund.toleranceFail")):null,(null==p?void 0:p.rate)>5&&p.rate<50?o.createElement("div",{className:"error-text"},i("page.StructuredFund.toleranceAdvance")):null,(null==p?void 0:p.rate)>50||null==p||!p.rate?o.createElement("div",{className:"error-text"},i("page.StructuredFund.toleranceNoUse")):null,o.createElement("div",{className:"btn-group"},o.createElement("div",{className:"ok",onClick:function(){return!p.rate||p.rate<=0?d.Z.show(i("page.StructuredFund.toleranceMust")):(null==p?void 0:p.rate)>50?d.Z.show(i("page.StructuredFund.toleranceOut")):(d.Z.show(i("page.StructuredFund.toleranceSuccess")),void c(p.rate))}},i("common.submit")),o.createElement("div",{className:"cancel",onClick:u},i("common.cancel")))))}var S=r(34234),Z=r(38104);function x(e){var t=e.visible,r=e.onClose,c=e.detail,i=e.priceCoin,f=e.priceUsdt,l=e.onSuccess,b=(0,E.$)().t,g=(0,u.Z)().user,x=(0,o.useState)(),F=(0,a.Z)(x,2),y=F[0],k=F[1],C=(0,o.useState)(0),z=(0,a.Z)(C,2),j=z[0],P=z[1],T=(0,p.JR)((0,p.eK)(c.amount))/10,U=(0,o.useState)(!1),D=(0,a.Z)(U,2),O=D[0],_=D[1],B=(0,o.useState)(2),I=(0,a.Z)(B,2),R=I[0],A=I[1],V=(0,o.useState)(!1),L=(0,a.Z)(V,2),$=L[0],J=L[1],W=function(){var e=(0,n.Z)(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.cv)(w.Z.token,g.address);case 2:t=e.sent,k(t),r=T*w.Z.portionCost*f,P(r/i);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=2;break}return e.abrupt("return");case 2:return t=j+j*(R/100),e.next=6,(0,S.Z)({abi:"StructureFund",address:Z.Z.StructureFund,params:[c.planId,(0,p.tr)(t).toFixed()],method:"deposit",type:"send"});case 6:e.sent?(d.Z.show(b("page.StructuredFund.subscriptionSuccess")),l()):d.Z.show(b("page.StructuredFund.subscriptionFail"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.EW)(w.Z.token,g.address,Z.Z.StructureFund);case 2:t=e.sent,J("0"!==t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=(0,n.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.Z)({abi:"erc20",address:w.Z.token,method:"approve",params:[Z.Z.StructureFund,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"],type:"send",error:function(){d.Z.show(b("common.active_fail"))}});case 2:e.sent&&(J(!0),d.Z.show(b("common.active_success")));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){return W()}),[c]),(0,o.useEffect)((function(){return M()}),[g.address]),o.createElement(m.Z,{direction:"bottom",visible:t},o.createElement("div",{className:"buy-popup"},o.createElement("div",{className:"flex-row fl-jc-between fl-ai-center"},o.createElement("div",{className:"font-size-16 font-weight-500 font-color-white"},b("page.StructuredFund.subscriptionRule")),o.createElement("div",{className:"font-weight-400 buy-popup-close fl-ai-center font-size-12",onClick:r},b("common.close"))),o.createElement("div",{className:"divide-line mt-5"}),o.createElement("div",{className:"flex-row fl-jc-between mt-20 mb-20"},o.createElement("div",{className:"font-size-14 font-weight-600 font-color-white"},b("page.StructuredFund.subscription")),o.createElement("div",{className:"font-size-14 font-weight-600 font-color-white"},T," ",b("page.StructuredFund.shareNum"))),o.createElement("div",{className:"flex-row fl-jc-between"},o.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},b("page.StructuredFund.subscriptionNeed")),o.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},(0,p.JR)(j+j*(R/100))," ",w.Z.symbol)),o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},b("common.available")),o.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},y," ",w.Z.symbol)),parseFloat(j)>parseFloat(y)&&o.createElement("div",{className:"buy-popup-tip mt-10 flex-center"},b("page.StructuredFund.hasNoTips")),o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},b("page.StructuredFund.subscriptionFuel")),o.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},(0,p.JR)(.5*f/i)*T," ",w.Z.symbol)),o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},b("page.StructuredFund.tolerance")),o.createElement("div",{className:"flex-row fl-ai-center",onClick:function(){return _(!0)}},o.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},R,"%"),o.createElement("img",{src:h.Z,width:15,height:15,className:"ml-10"}))),o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},b("page.StructuredFund.subscriptionDate")),o.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},w.Z.cycle)),o.createElement("div",{className:"buy-popup-submit flex-center",onClick:$?H:K},$?b("page.StructuredFund.subscriptionComfirm"):b("common.active_transaction",{name:w.Z.symbol})),o.createElement(N,{show:O,onSuccess:function(e){A(e),_(!1)},onClose:function(){return _(!1)}})))}var F=r(5977),y=r(81818);function k(e){var t=e.visible,r=e.onClose,c=e.detail,i=e.priceUsdt,f=e.onSuccess,l=(0,E.$)().t,w=(0,o.useState)(!1),b=(0,a.Z)(w,2),g=b[0],x=b[1],F=(0,o.useState)(2),y=(0,a.Z)(F,2),k=y[0],C=y[1],z=(0,o.useState)(""),j=(0,a.Z)(z,2),P=j[0],T=j[1],U=(0,o.useState)(0),D=(0,a.Z)(U,2),O=D[0],_=D[1],B=(0,o.useState)(!1),I=(0,a.Z)(B,2),R=I[0],A=I[1],V=(0,u.Z)().user,L=(0,p.JR)((0,p.eK)(c.amount))/10,$=function(){var e=(0,n.Z)(s().mark((function e(){var t,r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.cv)(Z.Z.V42NEW,V.address);case 2:return t=e.sent,T(t),e.next=6,(0,S.Z)({abi:"ParaPeriphery",address:Z.Z.ParaPeriphery,params:[Z.Z.V42NEW,Z.Z.USDT,Z.Z.ParaRouter],method:"getPrice",type:"call"});case 6:r=e.sent,n=3*L*i/(0,p.eK)(r),_(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O){e.next=2;break}return e.abrupt("return");case 2:return t=O+O*(k/100),e.next=6,(0,S.Z)({abi:"StructureFund",address:Z.Z.StructureFund,params:[c.planId,(0,p.tr)(t).toFixed()],method:"planCancel",type:"send"});case 6:e.sent?(d.Z.show(l("page.StructuredFund.rearrangeSuccess")),f()):d.Z.show(l("page.StructuredFund.rearrangeFail"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.EW)(Z.Z.V42NEW,V.address,Z.Z.StructureFund);case 2:t=e.sent,A("0"!==t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,n.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.Z)({abi:"erc20",address:Z.Z.V42NEW,method:"approve",params:[Z.Z.StructureFund,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"],type:"send",error:function(){d.Z.show(l("common.active_fail"))}});case 2:e.sent&&(A(!0),d.Z.show(l("common.active_success")));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){return $()}),[]),(0,o.useEffect)((function(){return W()}),[V.address]),o.createElement(m.Z,{direction:"bottom",visible:t},o.createElement("div",{className:"buy-popup"},o.createElement("div",{className:"flex-row fl-jc-between fl-ai-center"},o.createElement("div",{className:"font-size-16 font-weight-500 font-color-white"},l("page.StructuredFund.rearrangeRule")),o.createElement("div",{className:"font-weight-400 buy-popup-close fl-ai-center font-size-12",onClick:r},l("common.close"))),o.createElement("div",{className:"divide-line mt-5"}),o.createElement("div",{className:"flex-row fl-jc-between mt-20 mb-20"},o.createElement("div",{className:"font-size-14 font-weight-600 font-color-white"},l("page.StructuredFund.subscription")),o.createElement("div",{className:"font-size-14 font-weight-600 font-color-white"},L," ",l("page.StructuredFund.shareNum"))),o.createElement("div",{className:"buy-popup-tip mt-10 flex-center "},l("page.StructuredFund.rearrangeTips")),o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe "},l("page.StructuredFund.rearrangeNeed")),o.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},(0,p.JR)(O+O*(k/100))," V42")),o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},l("common.available")),o.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},P," V42")),o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},l("page.StructuredFund.tolerance")),o.createElement("div",{className:"flex-row fl-ai-center",onClick:function(){return x(!0)}},o.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},k,"%"),o.createElement("img",{src:h.Z,width:15,height:15,className:"ml-10"}))),parseFloat(O)>parseFloat(P)&&o.createElement("div",{className:"buy-popup-tip mt-10 flex-center"},l("page.StructuredFund.hasNoTipsV42")),o.createElement("div",{className:"buy-popup-submit flex-center",onClick:R?J:H},R?l("page.StructuredFund.rearrangeComfirm"):l("common.active_transaction",{name:"V42"})),o.createElement(N,{show:g,onSuccess:function(e){C(e),x(!1)},onClose:function(){return x(!1)}})))}var C=r(69016),z=r(30381),j=r.n(z),P=r(21624);function T(e){var t=e.userInfo,r=(0,E.$)().t,c=(0,o.useState)(""),u=(0,a.Z)(c,2),m=u[0],h=u[1],b=(0,o.useState)(!1),g=(0,a.Z)(b,2),N=g[0],x=g[1],k=(0,o.useState)("0"),z=(0,a.Z)(k,2),j=z[0],T=z[1],D=(0,o.useState)("0"),O=(0,a.Z)(D,2),_=O[0],B=O[1],I=(0,o.useState)("0"),R=(0,a.Z)(I,2),A=R[0],V=R[1],L=(0,o.useState)("0"),$=(0,a.Z)(L,2),J=$[0],W=$[1],H=(0,o.useState)(0),M=(0,a.Z)(H,2),K=M[0],G=M[1],Y=(0,o.useState)(0),q=(0,a.Z)(Y,2),Q=q[0],X=q[1],ee=(0,o.useState)([]),te=(0,a.Z)(ee,2),re=te[0],ne=te[1],ae=(0,o.useState)(null),ce=(0,a.Z)(ae,2),se=ce[0],oe=ce[1],ue=(0,o.useState)(1),ie=(0,a.Z)(ue,2),fe=ie[0],le=ie[1],de=(0,o.useState)(0),me=(0,a.Z)(de,2),pe=me[0],ve=me[1],we=(0,o.useState)([]),he=(0,a.Z)(we,2),be=he[0],Ee=he[1],ge=(0,F.k6)(),Ne=(0,F.UO)().pid,Se=(0,y.Z)(),Ze=Se.getPriceByToken,xe=Se.getCFPrice,Fe=function(){var e=(0,n.Z)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.EW)(Z.Z.USDT,t.address,Z.Z.StructureFund);case 2:r=e.sent,x("0"!==r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=(0,n.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,S.Z)({abi:"erc20",address:Z.Z.USDT,method:"approve",params:[Z.Z.StructureFund,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"],type:"send",error:function(){d.Z.show(r("common.active_fail"))}});case 4:e.sent&&(x(!0),d.Z.show(r("common.active_success")));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(e){h(e?Math.floor(e):e),Pe(parseInt(e))},Ce=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(w.Z.token,Z.Z.USDT,Z.Z.PancakeRouter);case 2:t=e.sent,V(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(Z.Z.USDT,Z.Z.USDT);case 2:t=e.sent,B(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=(0,n.Z)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.cv)(Z.Z.USDT,t.address);case 2:r=e.sent,T(r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!isNaN(t)){e.next=5;break}return G(0),X(0),W("0"),e.abrupt("return");case 5:G(10*t),X(.5*t),r=100*t*_,W((0,p.JR)(r/A,6));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=(0,n.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!m||m>10||m<1)){e.next=3;break}return d.Z.show(r("page.StructuredFund.inputinteger")),e.abrupt("return");case 3:return e.next=5,(0,S.Z)({abi:"StructureFund",address:Z.Z.StructureFund,params:[m],method:"plan",type:"send"});case 5:e.sent?(d.Z.show(r("page.StructuredFund.buySuccess")),De(),h(""),Ue(),je()):d.Z.show(r("page.StructuredFund.buyFail"));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=(0,n.Z)(s().mark((function e(){var r,n,a,c,o,u,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(se&&be.length){e.next=2;break}return e.abrupt("return");case 2:return r=10*(fe-1),e.next=5,(0,S.Z)({abi:"StructureFundView",address:Z.Z.StructureFundView,params:[t.address,r,10],method:"getPlanList",type:"call"});case 5:n=e.sent,ve(n.count),a=n.amounts,c=n.isForfeiteds,o=n.isRedeems,u=n.planIds,i=[],a.map((function(e,t){var r={},n=u[t];if(r.isForfeited=c[t],r.planId=n,r.amount=e,o[t])return r.status=6,void i.push(r);if(c[t])return r.status=4,void i.push(r);if(n<se.endPlan&&n>=se.startPlan){var a=Oe(!0);!0===a?r.status=1:(r.status=3,r.time=a)}else n<se.startPlan&&(r.status=5),n>=se.endPlan&&(r.status=2);if(3===r.status||2===r.status){var s=n-se.startPlan+1,f=se.allPlan-se.startPlan;r.sort="".concat(s,"/").concat(f)}i.push(r)})),ne(i);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=(0,n.Z)(s().mark((function e(){var r,n,a,c,o,u,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,S.Z)({abi:"StructureFundView",address:Z.Z.StructureFundView,params:[t.address],method:"getInfo",type:"call"});case 4:if(!(r=e.sent)[1][0]){e.next=8;break}return ge.push("/structuredfundwindingup"),e.abrupt("return");case 8:for(Ee(r[2]),n=r[0][0];77-n.length>0;)n="0"+n;for(a=r[0][6];77-a.length>0;)a="0"+a;c=parseInt(n.substring(67,77)),o=parseInt(n.substring(57,67)),u=parseInt(a.substring(67,77)),(i={}).startPlan=o,i.endPlan=c,i.allPlan=u,oe(i);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!be.length)return!0;var t=(new Date).getTime(),r=t/1e3,n=(r-1654790400)%86400;return n>=be[0][0]&&n<=be[0][1]||(n>=be[1][0]&&n<=be[1][1]||(n>=be[2][0]&&n<=be[2][1]||(n<be[0][0]?e?be[0][0]-n:"10:00-12:00":n>be[0][1]&&n<be[1][0]?e?be[1][0]-n:"15:00-17:00":n>be[1][1]&&n<be[2][0]?e?be[2][0]-n:"19:00-22:00":n>be[2][1]&&(e?86400+be[0][0]-n:"10:00-12:00"))))};return(0,o.useEffect)((function(){Ce(),je(),ze(),Fe(),De()}),[t.address]),(0,o.useEffect)((function(){Ue()}),[se,fe]),o.createElement(o.Fragment,null,o.createElement(f.Z,null),o.createElement(i.Z,null,o.createElement("div",{className:"flex-row fl-jc-between mb-15"},o.createElement("div",{className:"font-size-16 font-weight-500 font-color-white"},r("page.StructuredFund.subscribeGet")),o.createElement("div",{className:"font-size-12 font-color-describe font-weight-bold"},r("page.StructuredFund.subscribeNum",{portionCost:w.Z.portionCost}))),o.createElement(l.Z,{onChange:ke,placeholder:r("page.StructuredFund.inputinteger"),maxValue:j,value:m,setClean:function(){return ke("")},setMax:function(){return ke("10")}}),o.createElement("div",{className:"flex-row fl-jc-between"},o.createElement("div",{className:"font-color-describe font-size-12 font-weight-500"},r("page.StructuredFund.subscribeTips")),o.createElement("div",{className:"font-color-white font-size-12 font-weight-500"},J," ",w.Z.symbol)),o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-color-white font-size-14 font-weight-500 flex-shrink0"},r("page.StructuredFund.bond"),o.createElement("span",{className:"font-size-12"},r("page.StructuredFund.numConetnt")),r("page.StructuredFund.bondTips")),o.createElement("div",{className:"font-color-white font-size-14 font-weight-500 text-wrap"},K," USDT")),o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-color-white font-size-14 font-weight-500 flex-shrink0"},r("common.commission"),o.createElement("span",{className:"font-size-12"},r("page.StructuredFund.proceduresNums"))),o.createElement("div",{className:"font-color-white font-size-14 font-weight-500 text-wrap"},Q," USDT")),o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-color-describe font-size-12 font-weight-500"},r("common.available")),o.createElement("div",{className:"font-color-white font-size-12 font-weight-500"},j," USDT")),o.createElement("div",{className:"divide-line mt-20"}),o.createElement("div",{className:"fund-buy-submit flex-center",onClick:N?Te:ye},N?r("page.StructuredFund.submintMy"):r("common.active_transaction_btn",{name:"USDT"}))),o.createElement(i.Z,null,o.createElement("div",{className:"flex-row fl-jc-between fl-ai-center",onClick:function(){ge.push("/structuredfunddetail/".concat(Ne))}},o.createElement("div",{className:"font-color-describe font-size-14 font-weight-500"},r("common.my_position")),o.createElement("img",{src:"".concat(P.LP,"/icons/ArrowC.png"),width:12,height:10}))),o.createElement(i.Z,null,o.createElement("div",{className:"font-size-16 font-weight-500 font-color-white"},r("page.StructuredFund.subscribeCurrent")),o.createElement("div",{className:"divide-line mt-15"}),o.createElement("div",{className:"flex-row mt-10"},o.createElement("div",{className:"fund-record-A font-color-describe font-size-12"},r("page.StructuredFund.subscribeCurrent")),o.createElement("div",{className:"fund-record-B font-color-describe font-size-12 flex-row fl-jc-center"},r("page.StructuredFund.bond")),o.createElement("div",{className:"fund-record-C font-color-describe font-size-12 flex-row fl-jc-center"},r("page.StructuredFund.bianhao")),o.createElement("div",{className:"fund-record-A font-color-describe font-size-12 flex-row fl-jc-center"},r("page.StructuredFund.subscribePai")),o.createElement("div",{className:"fund-record-B font-color-describe font-size-12 flex-row-reserve"},r("page.StructuredFund.status"))),re.map((function(e,t){return o.createElement(U,{depositCallBack:function(){De(),Ce(),je()},priceUsdt:_,priceCoin:A,key:t,item:e,reLineUpCallBack:function(){De()}})})),o.createElement("div",{className:"mt-20"}),o.createElement(C.tl,{mode:"simple",forceEllipses:!0,value:fe,onChange:function(e){le(e)},totalItems:pe,itemsPerPage:10,showPageSize:3}),!0!==Oe(!0)&&o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-color-describe font-size-12 font-weight-500"},r("page.StructuredFund.nextPai")),o.createElement("div",{className:"font-color-white font-size-12 font-weight-500"},Oe(!1)))),o.createElement("div",{className:"fund-buy-tip flex-center"},w.Z.dataTips))}function U(e){var t=(0,E.$)().t,r=(0,o.useState)(!1),n=(0,a.Z)(r,2),c=n[0],s=n[1],u=(0,o.useState)(!1),i=(0,a.Z)(u,2),f=i[0],l=i[1],d=(0,o.useState)(""),m=(0,a.Z)(d,2),v=m[0],w=m[1],h=e.item,b=e.priceCoin,g=e.priceUsdt,N=e.depositCallBack,S=e.reLineUpCallBack,Z=function(){s(!0)},F=function(){s(!1)},y=function(){l(!0)},C=function(){l(!1)};(0,o.useEffect)((function(){3===h.status&&w(j().utc(1e3*h.time).format("HH:mm:ss"))})),(0,p.Yz)((function(){h.time&&!isNaN(h.time)&&(h.time=h.time-1,w(j().utc(1e3*h.time).format("HH:mm:ss")))}),1e3);var z=(0,p.JR)((0,p.eK)(h.amount));return o.createElement("div",{className:"flex-row mt-15"},o.createElement("div",{className:"fund-record-A font-color-white font-size-12 font-weight-500"},z/10,t("page.StructuredFund.shareNum")),o.createElement("div",{className:"fund-record-B font-color-white font-size-12 font-weight-500 flex-row fl-jc-center text-wrap"},z,"U"),o.createElement("div",{className:"fund-record-C font-color-white font-size-12 font-weight-500 flex-row fl-jc-center text-wrap"},h.planId),o.createElement("div",{className:"fund-record-A font-color-white font-size-12 font-weight-500 flex-row fl-jc-center"},h.sort||"--"),function(){switch(h.status){case 1:return o.createElement("div",{className:"flex-column fund-record-B fl-ai-end"},o.createElement("div",{className:"fund-record-buy",onClick:Z},t("page.StructuredFund.subscribeImmediate")),o.createElement("div",{className:" fund-record-reset  mt-5",onClick:y},t("page.StructuredFund.reloadPai")));case 2:return o.createElement("div",{className:"fund-record-B flex-row-reserve fund-record-wait"},t("page.StructuredFund.waitting"));case 3:return o.createElement("div",{className:"fund-record-B flex-row-reserve fund-record-time text-wrap"},t("page.StructuredFund.nextTime"),t("page.StructuredFund.nextTimeNum",{time:v}));case 4:return o.createElement("div",{className:"fund-record-B flex-row-reserve fund-record-minus text-wrap"},t("page.StructuredFund.bondHasNo"));case 5:return o.createElement("div",{className:"fund-record-B flex-row-reserve fund-record-minus text-wrap"},t("page.StructuredFund.bondOver"));case 6:return o.createElement("div",{className:"fund-record-B flex-row-reserve fund-record-minus text-wrap"},t("page.StructuredFund.bondSuccess"))}}(),o.createElement(x,{detail:h,priceCoin:b,priceUsdt:g,visible:c,onClose:F,onSuccess:function(){F(),N()}}),o.createElement(k,{visible:f,onClose:C,detail:h,priceUsdt:g,onSuccess:function(){C(),S()}}))}var D=r(98126);function O(e){var t=e.userinfo,r=e.activeSuccessCallback,c=(0,E.$)().t,u=(0,o.useState)(""),i=(0,a.Z)(u,2),f=i[0],l=i[1],m=function(){var e=(0,n.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(n=f||"0x0000000000000000000000000000000000000000",t.address.toLowerCase()!=n.toLowerCase()){e.next=6;break}return d.Z.show(c("page.StructuredFund.errorTip")),e.abrupt("return");case 6:if(window.web3.utils.isAddress(n)){e.next=9;break}return d.Z.show(c("page.StructuredFund.warnTip")),e.abrupt("return");case 9:if(!f){e.next=17;break}return e.next=12,(0,S.Z)({abi:"StructureFund",address:Z.Z.StructureFund,method:"pIDxAddr_",params:[n],type:"call"});case 12:if(0!=e.sent){e.next=17;break}return d.Z.show(c("page.StructuredFund.hasnoUser")),l(""),e.abrupt("return");case 17:return e.next=19,(0,S.Z)({abi:"StructureFund",address:Z.Z.StructureFund,params:[n],method:"register",type:"send",error:function(){return d.Z.show(c("common.active_fail"))}});case 19:e.sent?r():d.Z.show(c("common.active_fail"));case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.createElement(D.Z,{visible:!0,width:"90%"},o.createElement("div",{className:"welcomeModal"},o.createElement("img",{className:"modaltitle",src:"".concat(P.LP,"/Banners/CF-STRUCTURED-FUND.png")}),o.createElement("div",{className:"modalLabal mt-5"},c("page.StructuredFund.myAddress")),o.createElement("div",{className:"modalAddress"},(0,p.z7)((null==t?void 0:t.address)||"")),o.createElement("div",{className:"modalLabal"},c("page.StructuredFund.referrer")),o.createElement("input",{value:f,onChange:function(e){l(e.target.value)},className:"modalInput",placeholder:c("page.StructuredFund.inputaddress")}),o.createElement("div",{className:"redcolorText"},c("page.StructuredFund.referrerTips")),o.createElement("div",{className:"approveButton",onClick:function(){f?m():D.Z.confirm({title:c("common.tips"),content:c("page.StructuredFund.tipText"),onOk:function(){m()}})}},c("page.StructuredFund.immediatelyApprove")),o.createElement("div",{className:"yellowcolorText"},w.Z.dataTips)))}function _(){var e=(0,u.Z)(),t=e.setAddress,r=e.user,c=(0,E.$)().t,i=(0,o.useState)(!0),f=(0,a.Z)(i,2),l=f[0],m=f[1];(0,o.useEffect)((function(){r.address||t()}),[]);var p=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r&&r.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,S.Z)({abi:"StructureFund",address:Z.Z.StructureFund,method:"pIDxAddr_",params:[r.address],type:"call"}).catch((function(){return m(!1)}));case 4:(t=e.sent)||m(!1),"0"==t&&m(!1),t>0&&m(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){return p()}),[null==r?void 0:r.address]),o.createElement("div",{className:"structuredfundbuy"},o.createElement(T,{userInfo:r}),!l&&o.createElement(O,{userinfo:r,activeSuccessCallback:function(){d.Z.show(c("common.active_success")),m(!0)}}))}},55389:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(67294),a=r(64478),c=r(63474),s=r(28477);function o(){var e=(0,a.$)().t;return n.createElement(c.Z,null,n.createElement("div",{className:"font-size-16 font-color-white font-weight-500"},s.Z.name),n.createElement("div",{className:"divide-line mt-10"}),n.createElement("div",{className:"flex-row fl-jc-between mt-15"},n.createElement("div",{className:" font-color-describe"},e("page.StructuredFund.cycle")),n.createElement("div",{className:"fund-buy-color font-color-describe"},s.Z.cycle,e("page.StructuredFund.yield"))),n.createElement("div",{className:"flex-row fl-jc-between mt-10"},n.createElement("div",{className:"font-color-white font-size-14 font-weight-bold"},s.Z.cycle),n.createElement("div",{className:"font-color-green font-size-14 font-weight-bold"},s.Z.apr)))}}}]);