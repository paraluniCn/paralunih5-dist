"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["src_page_V42Project_ToLoanParam_index_jsx"],{65958:(e,a,r)=>{r.r(a),r.d(a,{default:()=>v});var t=r(42982),n=r(15861),c=r(70885),s=r(64687),l=r.n(s),m=r(67294),d=(r(2089),r(95370),r(63474)),i=(r(41449),r(68735)),o=r(6065);const u={robotAddress:["0x2c53A19eF84A297EB5014e68C55a379D7a38A3b1","0xE64fE55a12f9eF94a567Ff39Ea699CA28082df32","0xab49479Bd4947D0ef9087Db5844996b54e9acFe6"],pUSDT:"0x13993D0B2a933E3c9e9aeea9d95CeA566460eA87",pBTCB:"0x663EEAF6dfAEF4870bc7F412081494e631b4A2B4",pV42:"0xc40d631E2c5304b499e1b8d27731C5F8a5645427"};var E=r(72461),b=r(38104);function v(){var e=(0,i.Z)(),a=e.setAddress,r=e.user,s=(0,m.useState)([]),v=(0,c.Z)(s,2),f=v[0],p=v[1],x=(0,m.useState)([]),N=(0,c.Z)(x,2),w=N[0],P=N[1],h=function(){var e=(0,n.Z)(l().mark((function e(){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(u.robotAddress.map((function(e){return web3.eth.getBalance(e)})));case 2:a=e.sent,p(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,n.Z)(l().mark((function e(){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)([{abi:"PledgeErc20",address:u.pUSDT,method:"borrowRatePerBlock",params:[]},{abi:"PledgeErc20",address:u.pUSDT,method:"getCash",params:[]},{abi:"PledgeErc20",address:u.pUSDT,method:"exchangeRateStored",params:[]},{abi:"CLinkPriceOracle",address:b.Z.CLinkPriceOracle,method:"getUnderlyingPrice",params:[u.pBTCB]},{abi:"CLinkPriceOracle",address:b.Z.CLinkPriceOracle,method:"getUnderlyingPrice",params:[u.pV42]},{abi:"erc20",address:b.Z.PUSD,method:"totalSupply",params:[]}]);case 2:a=e.sent,console.log(a,"======"),P([(new Date).toLocaleString()].concat((0,t.Z)(a)));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,E.Yz)((0,n.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(),C();case 2:case"end":return e.stop()}}),e)}))),15e3),(0,m.useEffect)((function(){r.address||a(),document.title="借贷参数查询",h(),C()}),[r.address]),m.createElement(m.Fragment,null,m.createElement(d.Z,{blockClass:"ToLoanParam"},m.createElement("div",{className:"mb-10"},"机器人 bnb 余额 "),f.map((function(e,a){return m.createElement("div",{className:"mb-10 flex-row",key:a},m.createElement("div",{className:"mr-10"},"EMA",a+1,"(",(0,E.z7)(u.robotAddress[a]),"):"),m.createElement("div",null,(0,E.Rx)((0,E.eK)(e))," BNB"))}))),m.createElement(d.Z,{blockClass:"ToLoanParam"},m.createElement("div",{className:"mb-10"},"借贷参数"),m.createElement("div",{className:"mb-10 flex-row"},m.createElement("div",{className:"mr-10"}," 时间:"),m.createElement("div",null,w[0])),m.createElement("div",{className:"mb-10 flex-row"},m.createElement("div",{className:"mr-10"}," USDT借款利率:"),m.createElement("div",null,((w[1]||0)/3*86400*365*100/1e18).toFixed(2),"%")),m.createElement("div",{className:"mb-10 flex-row"},m.createElement("div",{className:"mr-10"}," USDT余额:"),m.createElement("div",null,(w[2]||0)/1e18)),m.createElement("div",{className:"mb-10 flex-row"},m.createElement("div",{className:"mr-10"}," pUSDT汇率:"),m.createElement("div",null,(w[3]||0)/1e18)),m.createElement("div",{className:"mb-10 flex-row"},m.createElement("div",{className:"mr-10"}," BTC价格:"),m.createElement("div",null,(w[4]||0)/1e18)),m.createElement("div",{className:"mb-10 flex-row"},m.createElement("div",{className:"mr-10"}," V42移动平均价:"),m.createElement("div",null,(w[5]||0)/1e18))),m.createElement(d.Z,{blockClass:"ToLoanParam"},m.createElement("div",{className:"mb-10"},"PUSD参数"),m.createElement("div",{className:"mb-10 flex-row"},m.createElement("div",{className:"mr-10"},"发行总量"),m.createElement("div",null,(w[6]||0)/1e18))))}}}]);