"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["src_page_V42Project_V42MulitItem_index_jsx"],{9909:(e,t,n)=>{n.r(t),n.d(t,{default:()=>fe});var a=n(15861),r=n(70885),c=n(64687),u=n.n(c),o=n(67294),s=n(2089),l=n(42982),i=n(67959),m=n(87462),f=n(4942),d=n(45987),p=n(15671),v=n(43144),h=n(60136),b=n(82963),Z=n(61120),E=n(24735),y=n.n(E);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,Z.Z)(e);if(t){var r=(0,Z.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,b.Z)(this,n)}}var w=function(e){(0,h.Z)(n,e);var t=k(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n,[{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,a=t.className,r=t.hasArrow,c=t.icon,u=t.title,s=t.description,l=t.help,i=t.disabled,p=t.onClick,v=t.children,h=(0,d.Z)(t,["prefixCls","className","hasArrow","icon","title","description","help","disabled","onClick","children"]),b=y()(n,a,(e={},(0,f.Z)(e,"".concat(n,"--disabled"),i),(0,f.Z)(e,"".concat(n,"--link"),!i&&!!p),(0,f.Z)(e,"".concat(n,"--arrow"),r),e)),Z=y()("".concat(n,"__title"),(0,f.Z)({},"".concat(n,"__title--label"),!!v)),E=c&&o.createElement("div",{className:"".concat(n,"__icon")},c),k=u&&o.createElement("div",{className:Z},u),w=v&&o.createElement("div",{className:"".concat(n,"__content")},v),x=r&&o.createElement("div",{className:"".concat(n,"__arrow")}),g=l&&o.createElement("div",{className:"".concat(n,"__help")},l);return o.createElement("div",(0,m.Z)({className:b,onClick:p,onTouchStart:function(){}},h),o.createElement("div",{className:"".concat(n,"__inner")},o.createElement("div",{className:"".concat(n,"__header")},E),o.createElement("div",{className:"".concat(n,"__body")},k,w),o.createElement("div",{className:"".concat(n,"__footer")},s),x),g)}}]),n}(o.PureComponent);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,Z.Z)(e);if(t){var r=(0,Z.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,b.Z)(this,n)}}w.defaultProps={prefixCls:"za-cell",hasArrow:!1,disabled:!1};var g=function(e,t){return void 0!==e.checked?e.checked:void 0!==e.defaultChecked?e.defaultChecked:t},N=function(e){(0,h.Z)(n,e);var t=x(n);function n(){var e;(0,p.Z)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={checked:g(e.props,!1)},e.onValueChange=function(t){var n=e.props,a=n.disabled,r=n.onChange,c=e.state.checked;if(!a){var u=!c;"checked"in e.props||e.setState({checked:u}),"function"==typeof r&&r(t)}},e}return(0,v.Z)(n,[{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,a=t.className,r=t.type,c=(t.shape,t.value),u=(t.checked,t.defaultChecked,t.disabled),s=t.id,l=t.children,i=(t.onChange,(0,d.Z)(t,["prefixCls","className","type","shape","value","checked","defaultChecked","disabled","id","children","onChange"])),p=this.state.checked,v=y()(n,a,(e={},(0,f.Z)(e,"".concat(n,"--checked"),p),(0,f.Z)(e,"".concat(n,"--disabled"),u),(0,f.Z)(e,"".concat(n,"--untext"),!l),e)),h=o.createElement("input",{id:s,type:"radio",className:"".concat(n,"__input"),value:c,disabled:u,checked:p,onChange:this.onValueChange}),b=o.createElement("span",(0,m.Z)({className:v},i),o.createElement("span",{className:"".concat(n,"__widget")},o.createElement("span",{className:"".concat(n,"__inner")})),l&&o.createElement("span",{className:"".concat(n,"__text")},l),h);return"cell"===r?o.createElement(w,(0,m.Z)({disabled:u,className:a,onClick:function(){}},i),b):"button"===r?o.createElement("button",(0,m.Z)({type:"button",disabled:u,className:v},i),l,h):b}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e&&e.checked!==t.prevChecked?{checked:e.checked,prevChecked:e.checked}:null}}]),n}(o.PureComponent);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,Z.Z)(e);if(t){var r=(0,Z.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,b.Z)(this,n)}}N.Group=void 0,N.defaultProps={prefixCls:"za-radio",disabled:!1,shape:"radius"};var S=function(e){var t=null;return o.Children.forEach(e,(function(e){(0,o.isValidElement)(e)&&e.props&&e.props.checked&&(t=e.props.value)})),t},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return void 0!==e.value?e.value:void 0!==e.defaultValue?e.defaultValue:S(e.children)?S(e.children):t},B=function(e){(0,h.Z)(n,e);var t=C(n);function n(){var e;(0,p.Z)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={value:O(e.props)},e.onChildChange=function(t){e.setState({value:t});var n=e.props.onChange;"function"==typeof n&&n(t)},e}return(0,v.Z)(n,[{key:"render",value:function(){var e,t=this,n=this.props,a=n.prefixCls,r=n.className,c=n.size,u=n.shape,s=n.type,l=n.block,i=n.disabled,p=n.compact,v=n.ghost,h=n.children,b=(n.onChange,n.defaultValue,n.value,(0,d.Z)(n,["prefixCls","className","size","shape","type","block","disabled","compact","ghost","children","onChange","defaultValue","value"])),Z=this.state.value,E=o.Children.map(h,(function(e,n){return(0,o.cloneElement)(e,{key:n,type:s,shape:u,disabled:i||!!e.props.disabled,checked:Z===e.props.value,onChange:function(n){"function"==typeof e.props.onChange&&e.props.onChange(n),t.onChildChange(e.props.value)}})})),k=y()(a,r,(e={},(0,f.Z)(e,"".concat(a,"--").concat(s),!!s),(0,f.Z)(e,"".concat(a,"--").concat(c),!!c),(0,f.Z)(e,"".concat(a,"--").concat(u),!!u),(0,f.Z)(e,"".concat(a,"--block"),l),(0,f.Z)(e,"".concat(a,"--disabled"),i),(0,f.Z)(e,"".concat(a,"--compact"),p),(0,f.Z)(e,"".concat(a,"--ghost"),v),e));return o.createElement("div",(0,m.Z)({className:k},b),o.createElement("div",{className:"".concat(a,"__inner")},E))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),n}(o.PureComponent);B.displayName="RadioGroup",B.defaultProps={prefixCls:"za-radio-group",shape:"radius",block:!1,disabled:!1,compact:!1,ghost:!1,size:"xs"},N.Group=B;const T=N;var P=n(98126),D=n(63474),V=n(72461),j=n(64478),I=n(68008),R=n(67892),L=n(36871),F=n(38104),A=n(96486),_=n(41449),U=n(24539),M=n(21624);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e){var t=e.dataList,n=e.visibleModal,c=e.onCloseAfter,s=e.onSubmitAfter,m=e.modalmulitName,f=(0,j.$)().t,d=(0,o.useRef)(),p=(0,U.Z)().tokenList,v=(0,o.useState)(!1),h=(0,r.Z)(v,2),b=h[0],Z=h[1],E=(0,o.useState)(null),y=(0,r.Z)(E,2),k=y[0],w=y[1],x=(0,o.useState)(!1),g=(0,r.Z)(x,2),N=g[0],C=g[1],S=(0,o.useState)({}),O=(0,r.Z)(S,2),B=O[0],T=O[1],D=(0,o.useState)(0),z=(0,r.Z)(D,2),$=z[0],G=z[1],H=(0,o.useState)(""),W=(0,r.Z)(H,2),q=W[0],K=W[1],X=(0,o.useState)(""),Y=(0,r.Z)(X,2),Q=Y[0],ee=Y[1],te=(0,o.useState)(""),ne=(0,r.Z)(te,2),ae=ne[0],re=ne[1],ce=(0,o.useState)([]),ue=(0,r.Z)(ce,2),oe=ue[0],se=ue[1],le=(0,o.useState)(""),ie=(0,r.Z)(le,2),me=ie[0],fe=ie[1],de=(0,o.useState)([]),pe=(0,r.Z)(de,2),ve=pe[0],he=pe[1],be=(0,o.useState)([]),Ze=(0,r.Z)(be,2),Ee=Ze[0],ye=Ze[1],ke=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];K(""),ee(""),re(""),se([]),fe(""),e&&T(ve[0]||{}),e&&w(null)},we=function(){var e=(0,a.Z)(u().mark((function e(){var t,n=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length>0&&void 0!==n[0]?n[0]:"",B.label){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,(0,L.cv)("BNB"==B.label?"":B.address,F.Z[m]);case 5:t=e.sent,G(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=(0,a.Z)(u().mark((function e(){var t,n,a,r,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!q||window.web3.utils.isAddress(q)||"1"==k.value){e.next=3;break}return i.Z.show("请输入正确的地址"),e.abrupt("return",!1);case 3:if(t="",n="",console.log(k,"chooseValue"),"0"!=k.value){e.next=17;break}if("BNB"==B.label){e.next=14;break}return n=B.address,e.next=11,(0,_.ZO)(q,(0,V.tr)(Q).toFixed());case 11:t=e.sent,e.next=15;break;case 14:t="0x";case 15:e.next=38;break;case 17:if("6"!=k.value&&"7"!=k.value){e.next=24;break}return n=F.Z[m],e.next=21,(0,_.uq)(q,"6"==k.value?"addOwner":"removeOwner");case 21:t=e.sent,e.next=38;break;case 24:if("8"!=k.value){e.next=31;break}return n=F.Z[m],e.next=28,(0,_.n3)(Q);case 28:t=e.sent,e.next=38;break;case 31:if("4"==k.value){e.next=38;break}return n=B.address,a=oe.filter((function(e){return e})),r=B.paramType.map((function(e,t){var n=a[t];return e.indexOf("[]")>-1&&e.indexOf("bool")>-1?n=(0,l.Z)(n.split("-").filter((function(e){return e})).map((function(e){return"1"==e}))):e.indexOf("[]")>-1?n=(0,l.Z)(n.split("-").filter((function(e){return e}))):e.indexOf("bool")>-1&&(n="1"==n),n})),e.next=37,(0,_.eJ)(B.abi,B.value,r);case 37:t=e.sent;case 38:return c=[n,0,t],"4"==k.value?c=[q,(0,V.tr)(Q).toFixed(0),ae]:"0"==k.value&&"BNB"==B.label&&(c=[q,(0,V.tr)(Q).toFixed(0),t]),e.next=42,(0,_.y)(m,c,me);case 42:e.sent&&(ge(),s());case 44:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){ke(),c()};return(0,o.useEffect)((function(){"0"==(null==k?void 0:k.value)&&we(),ke(!1)}),[k,B]),(0,o.useEffect)((function(){"0"==(null==k?void 0:k.value)?he((0,l.Z)(Ee)):null!=k&&k.hasSecond?he(null==k?void 0:k.secondLsit):(he([]),T({}))}),[k]),(0,o.useEffect)((function(){ve[0]&&T(ve[0])}),[ve]),(0,o.useEffect)((function(){null!=p&&p.length&&Ee.length!=(null==p?void 0:p.length)&&ye([].concat((0,l.Z)(p.map((function(e){return J(J({},e),{},{value:e.symbol,label:e.symbol,address:"BNB"===e.symbol?"":e.address})}))),[{address:F.Z.V42NEW,decimal:18,img:"".concat(M.LP,"/Logos/logo-yellow@2x.png"),symbol:"V42",value:"V42",label:"V42"}]))}),[p]),o.createElement("div",{className:"AddModal",ref:d},o.createElement(P.Z,{title:"添加提案",visible:n,width:"80%",mountContainer:function(){return d.current},footer:k?o.createElement(o.Fragment,null,o.createElement("div",{className:"contentButton closeButton",onClick:ge},f("common.cancel")),o.createElement("div",{className:"contentButton",onClick:xe},f("common.submit"),"提议")):o.createElement("div",{className:"contentButton closeButton",onClick:ge},f("common.cancel"))},o.createElement("div",{className:"mb-15 structuredFundCFAdminItem flex-row",onClick:function(){Z(!0)}},o.createElement("div",null,null!=k?k.label:"请选择"),o.createElement("img",{src:R.Z,className:"pullimg"})),k?o.createElement(o.Fragment,null,o.createElement("div",null,k.hasSecond?o.createElement("div",{className:"mb-10 flex-row",onClick:function(){C(!0)}},"选择提案内容：",null==B?void 0:B.label,o.createElement("img",{src:R.Z,className:"pullimg"})):null,["0"].indexOf(k.value)>-1?o.createElement("div",{className:"mb-10"},"可提议数量：",$):null,(0,A.get)(B,"paramType",[]).some((function(e){return e.indexOf("bool")>-1}))?o.createElement("div",{className:"mb-10"},"输入1代表true，输入其他代表false"):null,(0,A.get)(B,"paramType",[]).some((function(e){return e.indexOf("[]")>-1}))?o.createElement("div",{className:"mb-10"},'输入数组类型的数据，可以用"-"符号隔改。eg:1-2-3'):null,["0","4","6","7"].indexOf(k.value)>-1?o.createElement("div",{className:"contentInputView"},o.createElement("input",{placeholder:f("请输入地址"),value:q,onChange:function(e){K(e.target.value)},className:"contentInput"}),q?o.createElement("div",{style:{color:"#ccc"},onClick:function(){K("")}},"清除"):null):null,["0","4","8"].indexOf(k.value)>-1?o.createElement("div",{className:"contentInputView"},o.createElement("input",{placeholder:f("请输入数量"),value:Q,onChange:function(e){ee(e.target.value)},className:"contentInput"}),Q?o.createElement("div",{style:{color:"#ccc"},onClick:function(){ee("")}},"清除"):null):null),"4"!=k.value?null:o.createElement("div",{className:"contentInputView"},o.createElement("input",{placeholder:f("请输入自定义内容"),value:ae,onChange:function(e){re(e.target.value)},className:"contentInput"}),ae?o.createElement("div",{style:{color:"#ccc"},onClick:function(){re("")}},"清除"):null),(0,A.get)(B,"paramType",[]).map((function(e,t){return o.createElement("div",{className:"contentInputView",key:t},o.createElement("input",{placeholder:f("请输入".concat(e)),value:oe[t]||"",onChange:function(e){oe[t]=e.target.value,se((0,l.Z)(oe))},className:"contentInput"}),oe[t]?o.createElement("div",{style:{color:"#ccc"},onClick:function(){oe[t]="",se((0,l.Z)(oe))}},"清除"):null)})),k.value?o.createElement("div",{className:"contentInputView"},o.createElement("input",{placeholder:f("请输入提案描述"),value:me,onChange:function(e){fe(e.target.value)},className:"contentInput"}),me?o.createElement("div",{style:{color:"#ccc"},onClick:function(){fe("")}},"清除"):null):null):null),o.createElement(I.Z,{visible:b,value:(null==k?void 0:k.value)||"0",title:f("common.choose"),okText:f("common.submit"),cancelText:f("common.cancel"),dataSource:t,onOk:function(e){w(e[0]),Z(!1)},onCancel:function(){Z(!1)}}),o.createElement(I.Z,{visible:N,value:(null==B?void 0:B.value)||null,title:f("common.choose"),okText:f("common.submit"),cancelText:f("common.cancel"),dataSource:ve,onOk:function(e){T(e[0]),C(!1)},onCancel:function(){C(!1)}}))}var G=n(95370);function H(e){var t=e.userinfo,n=e.mulitName,c=e.hasRoule,s=(0,j.$)().t,m=(0,o.useRef)(),f=G.Z[n],d=(0,o.useState)([]),p=(0,r.Z)(d,2),v=p[0],h=p[1],b=(0,o.useState)(!1),Z=(0,r.Z)(b,2),E=Z[0],y=Z[1],k=(0,o.useState)(!1),w=(0,r.Z)(k,2),x=w[0],g=w[1],N=(0,o.useState)({}),C=(0,r.Z)(N,2),S=C[0],O=C[1],B=(0,o.useState)("wait"),I=(0,r.Z)(B,2),R=I[0],L=I[1],F=(0,o.useState)([]),A=(0,r.Z)(F,2),U=A[0],M=A[1],z=(0,o.useState)(!1),J=(0,r.Z)(z,2),H=J[0],W=J[1],q=function(){var e=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.aj)(n);case 2:t=e.sent,h((0,l.Z)(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=(0,a.Z)(u().mark((function e(a){var r,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.R_)(n,a.id);case 2:return r=e.sent,e.next=5,(0,_.yN)(n);case 5:c=e.sent,Array.isArray(r)||(r=[r]),g(!0),O({typeText:"提案编号：".concat(a.id),data:a.data,id:a.id,voteLength:c,agreeNum:r.length,canGoPro:r.length>=c,isfavo:r.indexOf(t.address)>-1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=(0,a.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.WY)(n,t);case 2:e.sent&&(i.Z.show("执行成功"),g(!1),O({}),q());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=(0,a.Z)(u().mark((function e(t){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=3;break}return i.Z.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 3:if(a=null,!t){e.next=10;break}return e.next=7,(0,_.d_)(n,S.id);case 7:a=e.sent,e.next=13;break;case 10:return e.next=12,(0,_.ww)(n,S.id);case 12:a=e.sent;case 13:a&&(i.Z.show("执行成功"),K(S));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=(0,a.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.dy)(n,t);case 2:e.sent&&(i.Z.show("执行成功"),g(!1),O({}),q());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.BX)(S.id,n);case 2:t=e.sent,M(t),W(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){q()}),[null==t?void 0:t.address]),o.createElement("div",{className:"MultiSignature",ref:m},o.createElement(D.Z,null,o.createElement("div",{className:"contentButton",onClick:function(){c?y(!0):i.Z.show("您不是该多签的议员，无法创建提案")}},s("创建提案"))),o.createElement(D.Z,null,o.createElement("div",{className:"flex-row-center fl-jc-between"},o.createElement("div",{className:"item-view"},"显示未执行提案"),o.createElement(T.Group,{type:"button",defaultValue:R,onChange:function(e){L(e)}},o.createElement(T,{value:"all"},"全部"),o.createElement(T,{value:"wait"},"未执行"),o.createElement(T,{value:"success"},"已执行"),o.createElement(T,{value:"discard"},"已废弃")))),("wait"==R?(0,l.Z)(v):(0,l.Z)(v).reverse()).map((function(e,n){return e.itemstatus==R||"all"==R?o.createElement(D.Z,{key:e.id},o.createElement("div",{className:"flex-row-center fl-jc-between"},o.createElement("div",{className:"item-view"},o.createElement("div",{className:"flex-row-center fl-jc-between mb-10"},o.createElement("div",null,s("提案编号")),o.createElement("div",null,e.typeText)),o.createElement("div",{className:"flex-row-center fl-jc-between mb-10"},o.createElement("div",null,s("提案时间")),o.createElement("div",null,e.time)),o.createElement("div",{className:"flex-row-center fl-jc-between mb-10"},o.createElement("div",null,s("提案简述")),o.createElement("div",null,e.dec)),o.createElement("div",{className:"item-view-contents flex-row-center fl-jc-between"},o.createElement("div",null,s("目标地址")),o.createElement("div",null,(0,V.z7)(e.startAddree))),o.createElement("div",{className:"item-view-contents flex-row-center fl-jc-between"},o.createElement("div",null,s("提案地址")),o.createElement("div",null,(0,V.z7)(e.submitter))),o.createElement("div",{className:"item-view-contents flex-row-center fl-jc-between"},o.createElement("div",null,s("状态")),"wait"==e.itemstatus?o.createElement(o.Fragment,null,e.isConfirmed?o.createElement("div",{className:"ml-auto mr-10 contentButton",onClick:function(){Q(e.id)}},"执行提案"):null,t.address==e.submitter?o.createElement("div",{className:"mr-10 contentButton",onClick:function(){X(e.id)}},"废弃提案"):null,o.createElement("div",{className:"contentButton",onClick:function(){K(e)}},s("投票"))):"success"==e.itemstatus?o.createElement("div",{className:"font-color-green"},"已执行"):null)))):null})),o.createElement($,{modalmulitName:n,visibleModal:E,dataList:f,onCloseAfter:function(){y(!1)},onSubmitAfter:function(){q()}}),o.createElement(P.Z,{visible:x,footer:null,mountContainer:function(){return m.current}},o.createElement("div",{className:"mb-10 structuredFundCFAdminItem"},S.typeText),o.createElement("div",{className:"mb-10",style:{"word-break":"break-all"}},S.data),S.isfavo&&S.canGoPro||!S.canGoPro?o.createElement("div",{className:"contentButton mb-10",onClick:function(){Y(S.isfavo)},style:S.isfavo?{background:"#fb976a"}:{}},S.isfavo?"撤回投票(".concat(S.agreeNum,"/").concat(S.voteLength,")"):"赞成(".concat(S.agreeNum,"/").concat(S.voteLength,")")):null,c?o.createElement("div",{className:"contentButton mb-10",onClick:function(){ee()}},"投票列表列表"):null,o.createElement("div",{className:"contentButton",onClick:function(){g(!1),O({})}},"关闭")),o.createElement(P.Z,{visible:H,footer:null,mountContainer:function(){return m.current}},U.map((function(e){return o.createElement("div",{className:"mb-10 flex-row fl-jc-between"},o.createElement("div",null,(0,V.z7)(e.address)),o.createElement("div",null,e.isOked?"已投票":"未投票"))})),o.createElement("div",{className:"contentButton",onClick:function(){M([]),W(!1)}},"关闭")))}n(3283);var W=n(6065),q=n(70794);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e){e.userinfo;var t=e.mulitName,n=e.hasRoule,c=(0,j.$)().t,s=(0,U.Z)().tokenList,m=(0,o.useRef)(),f=(0,o.useState)([]),d=(0,r.Z)(f,2),p=d[0],v=d[1],h=(0,o.useState)(0),b=(0,r.Z)(h,2),Z=b[0],E=b[1],y=(0,o.useState)([]),k=(0,r.Z)(y,2),w=k[0],x=k[1],g=(0,o.useState)([]),N=(0,r.Z)(g,2),C=N[0],S=N[1],O=(0,o.useState)(!1),B=(0,r.Z)(O,2),T=B[0],I=B[1],R=(0,o.useState)(null),A=(0,r.Z)(R,2),M=A[0],z=A[1],J=(0,o.useState)(!1),$=(0,r.Z)(J,2),H=$[0],K=$[1],Y=function(){var e=(0,a.Z)(u().mark((function e(n){var a,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.map((function(e){return{abi:"erc20",address:e.address,method:"allowance",params:[F.Z[t],F.Z.TronParaRouterPeriphery]}})),e.next=3,(0,W.Z)(a);case 3:return r=e.sent,e.abrupt("return",r.map((function(e,t){return"BNB"==n[t].symbol||n[t].symbol.indexOf("V42")>-1||new q.Z((0,V.eK)(e)).isGreaterThan(1e8)})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=(0,a.Z)(u().mark((function e(n){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.EW)(F.Z.USDT,F.Z[t],F.Z.ParaRouter);case 2:a=e.sent,x("0"!=a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=(0,a.Z)(u().mark((function e(n){var a,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],r=n.map((function(e){return{abi:"erc20",address:e.address,method:"balanceOf",params:[F.Z[t]]}})),e.next=4,(0,W.Z)(r);case 4:return e.sent.forEach((function(e,r){"BNB"==n[r].symbol?a.push((0,L.cv)("",F.Z[t])):a.push((0,V.eK)(e||0).toFixed())})),e.next=8,Promise.all(a);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=(0,a.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.cv)(F.Z.V42NEW,F.Z[t]);case 2:n=e.sent,E(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=(0,a.Z)(u().mark((function e(t){var n,a,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,"list"),Q(t),te(t),e.next=5,Y(t);case 5:return n=e.sent,e.next=8,ee(t);case 8:a=e.sent,r=s.map((function(e,t){return X(X({},e),{},{isActive:n[t],balance:a[t]})})),S((0,l.Z)(r.filter((function(e){return e.isActive&&"BNB"!=e.symbol&&"USDT"!=e.symbol&&-1==e.symbol.indexOf("V42")&&Number(e.balance)>0})))),v((0,l.Z)(r));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=(0,a.Z)(u().mark((function e(a){var r,c,o,s,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return i.Z.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 3:return r="",c=a.address,o=F.Z.TronParaRouterPeriphery,s="approve ".concat(a.symbol," RPer"),"USDT"!==a.symbol||c||(c=F.Z.USDT,o=F.Z.ParaRouter,s="approve ".concat(a.symbol," Router")),e.next=10,(0,_.mt)(o);case 10:return r=e.sent,l=[c,0,r],e.next=14,(0,_.y)(t,l,s);case 14:e.sent&&i.Z.show("提交成功");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=(0,a.Z)(u().mark((function e(){var a,r,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return i.Z.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 3:return a=p.filter((function(e){return"USDT"!=e.symbol&&"BNB"!=e.symbol&&-1==e.symbol.indexOf("V42")&&e.isActive&&e.ischoose&&e.balance>0})).map((function(e,t){if("USDT"!=e.chooseCoin&&e.chooseCoin){if("BUSD"==e.chooseCoin)return[e.address,F.Z.BUSD,F.Z.USDT];var n=F.Z[e.chooseCoin]||p.find((function(e){return e.symbol==e.chooseCoin})).address;return[e.address,n,F.Z.USDT]}return[e.address,F.Z.USDT]})),e.next=6,(0,_.Zh)([F.Z.ParaRouter,a]);case 6:return r=e.sent,c=[F.Z.TronParaRouterPeriphery,0,r],e.next=10,(0,_.y)(t,c,"sell USDT");case 10:e.sent&&i.Z.show("提交成功");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=(0,a.Z)(u().mark((function e(){var a,r,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return i.Z.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 3:return a=(p.find((function(e){return"USDT"==e.symbol}))||{}).balance,e.next=6,(0,_.eJ)("router","swapExactTokensForTokensSupportingFeeOnTransferTokens",[(0,V.tr)(a).toFixed(0,1),0,[F.Z.USDT,F.Z.V42NEW],F.Z[t],parseInt((new Date).getTime()/1e3+7200)]);case 6:return r=e.sent,c=[F.Z.ParaRouter,0,r],e.next=10,(0,_.y)(t,c,"USDT buy V42");case 10:e.sent&&i.Z.show("提交成功");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=(0,a.Z)(u().mark((function e(){var a,r,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return i.Z.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 3:return a=F.Z.V42NEW,e.next=6,(0,_.ZO)(G.Z.BURN_ADDRESS,(0,V.tr)(Z).toFixed(0,1));case 6:return r=e.sent,c=[a,0,r],e.next=10,(0,_.y)(t,c,"Destroy V42");case 10:e.sent&&i.Z.show("提交成功");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){return s.length&&p.length!=s.length&&ne(s),function(){}}),[s]),o.createElement("div",{className:"BuyBackMulit",ref:m},o.createElement(D.Z,null,o.createElement("div",{className:"mb-10"},"激活列表"),p.map((function(e,t){return-1!=e.symbol.indexOf("V42")?null:o.createElement("div",{className:"mb-10 flex-center fl-jc-between",key:t},o.createElement("div",{className:""},e.symbol),e.isActive?o.createElement("div",{className:""},"数量：",(0,V.Rx)(e.balance)||0):o.createElement("div",{className:"contentButton",onClick:function(){ae(e)}},"创建多签激活提案"))}))),o.createElement(D.Z,null,o.createElement("div",{className:"contentButton mb-10",onClick:function(){I(!0)}},"卖出Token获取USDT"),o.createElement("div",{className:""},"卖出的Token不包含BNB，USDT。BNB购买USDT需要单独多签")),o.createElement(D.Z,null,w?o.createElement("div",{className:"contentButton mb-10",onClick:ce},"使用USDT买入V42"):o.createElement("div",{className:"contentButton mb-10",onClick:function(){ae({symbol:"USDT"})}},"多签激活USDT回购")),o.createElement(D.Z,null,o.createElement("div",{className:"mb-10"},"待销毁V42数量：",(0,V.Rx)(Z)),o.createElement("div",{className:"contentButton mb-10",onClick:ue},"销毁V42")),o.createElement(P.Z,{title:"选择代币",visible:T,width:"80%",mountContainer:function(){return m.current},footer:o.createElement(o.Fragment,null,o.createElement("div",{className:"contentButton closeButton",onClick:function(){I(!1)}},c("common.cancel")),o.createElement("div",{className:"contentButton",onClick:re},c("common.submit")))},C.map((function(e,t){return o.createElement("div",{className:"flex-row fl-jc-between mb-10",key:t},o.createElement("div",null,e.symbol),o.createElement("div",{className:"ml-auto",onClick:function(){!function(e){C[e].ischoose=!C[e].ischoose,S((0,l.Z)(C))}(t)}},e.ischoose?"已选择":"未选择"),o.createElement("div",{className:"ml-10",onClick:function(){K(!0),z(t)}},e.chooseCoin||"USDT"))}))),o.createElement(P.Z,{title:"选择path",visible:H,width:"80%",mountContainer:function(){return m.current},footer:null},p.map((function(e,t){return o.createElement("div",{className:"flex-row fl-jc-between mb-10",key:t,onClick:function(){C[M].chooseCoin=e.symbol,S((0,l.Z)(C)),K(!1)}},o.createElement("div",null,e.symbol),o.createElement("div",{className:"ml-auto"},"选择"))}))))}var Q=n(5977),ee=n(68735);n(88705),n(34234);function te(e){var t=e.data,n=e.inputValue,a=e.changeInput,r=(0,j.$)().t;return o.createElement(o.Fragment,null,o.createElement("input",{placeholder:r("请输入".concat(t)),value:n||"",onChange:function(e){a(e.target.value)},className:"contentInput"}),n?o.createElement("div",{style:{color:"#ccc"},onClick:function(){a("")}},"清除"):null)}function ne(e){var t=e.addChefInputList,n=e.addressAbi,c=e.getDataFunNameAdd,m=e.getDataFunNameUpdate,f=e.editChefInputList,d=e.viewHasRoule,p=(0,Q.UO)().mulitname,v=(0,o.useState)([]),h=(0,r.Z)(v,2),b=h[0],Z=h[1],E=(0,o.useState)([]),y=(0,r.Z)(E,2),k=y[0],w=y[1],x=(0,j.$)().t,g=(0,o.useState)(),N=(0,r.Z)(g,2),C=N[0],S=N[1],O=(0,o.useState)(),B=(0,r.Z)(O,2),T=B[0],P=B[1],V=function(){var e=(0,a.Z)(u().mark((function e(a){var r,c,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.length==t.length){e.next=3;break}return i.Z.show("请输入正确的值"),e.abrupt("return",!1);case 3:r="","poolAdd"==a?(c=[].concat((0,l.Z)(b),[[0,0,b[3],0,0]]),r=(0,_.Mo)(n,a,[[c]])):"addPools"==a&&(o=A.zip.apply(void 0,(0,l.Z)(b.map((function(e){return e.split("-")})))),r=(0,_.Mo)("chef",a,[o])),r&&(console.log(r,a),k[2]=r,w((0,l.Z)(k)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=(0,a.Z)(u().mark((function e(t){var a,r,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.length==f.length){e.next=3;break}return i.Z.show("请输入正确的值"),e.abrupt("return",!1);case 3:a="","setPoolsSous"==t?(r=b.map((function(e){return e.split("-")})),a=(0,_.Mo)(n,"setPools",r)):"setPools"==t&&(c=b.map((function(e){return e.split("-")})),a=(0,_.Mo)("chef",t,c)),a&&(k[2]=a,console.log(a,t),w((0,l.Z)(k)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=(0,a.Z)(u().mark((function e(){var t,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=3;break}return i.Z.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 3:return e.next=5,(0,_.eJ)("TimeLock","queueTransaction",[F.Z[n],k[0]||"0",k[1]||"",k[2]||"",k[3]||""]);case 5:return t=e.sent,a=[F.Z.TimeLock,0,t],e.next=9,(0,_.y)(p,a,C);case 9:e.sent&&i.Z.show("提交成功");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=(0,a.Z)(u().mark((function e(t){var a,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("executeTransaction"!=t){e.next=7;break}return e.next=3,(0,_.z1)([F.Z[n],k[0]||"0",k[1]||"",k[2]||"",k[3]||""]);case 3:e.sent&&i.Z.show("执行成功"),e.next=18;break;case 7:if(d){e.next=10;break}return i.Z.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 10:return e.next=12,(0,_.eJ)("TimeLock","cancelTransaction",[F.Z[n],k[0]||"0",k[1]||"",k[2]||"",k[3]||""]);case 12:return a=e.sent,r=[F.Z.TimeLock,0,a],e.next=16,(0,_.y)(p,r,T);case 16:e.sent&&i.Z.show("提交成功");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){return function(){Z([]),w([])}}),[n]),o.createElement(o.Fragment,null,o.createElement(D.Z,null,o.createElement(s.Z,{onChange:function(){Z([]),w([])},tabs:[{title:x("添加池子"),node:o.createElement(o.Fragment,null,t.map((function(e,t){return o.createElement("div",{className:"contentInputView",key:t},o.createElement(te,{data:e,inputValue:b[t],changeInput:function(e){b[t]=e,Z((0,l.Z)(b))}}))})),o.createElement("div",{className:"contentButton",onClick:function(){V(c)}},"增加池子生成Data"))},{title:x("修改池子"),node:o.createElement(o.Fragment,null,f.map((function(e,t){return o.createElement("div",{className:"contentInputView",key:t},o.createElement(te,{data:e,inputValue:b[t],changeInput:function(e){b[t]=e,Z((0,l.Z)(b))}}))})),o.createElement("div",{className:"contentButton",onClick:function(){I(m)}},"修改池子生成Data"))}]})),o.createElement(D.Z,null,[{type:"uint256",textShow:"发送BNB数量"},{type:"string",textShow:"描述"},{type:"bytes",textShow:"生成的Data"},{type:"uint256",textShow:"排队结束时间戳"}].map((function(e,t){return o.createElement("div",{className:"contentInputView",key:t},o.createElement(te,{data:e.textShow,inputValue:k[t],changeInput:function(e){k[t]=e,w((0,l.Z)(k))}}))}))),o.createElement(D.Z,null,o.createElement("div",{className:"contentInputView"},o.createElement(te,{data:"执行时间锁提案描述",inputValue:C,changeInput:function(e){S(e||"")}})),o.createElement("div",{className:"contentButton",onClick:R},"新增池子参数，发起提案")),o.createElement(D.Z,null,o.createElement("div",{className:"contentButton mb-10",onClick:function(){L("executeTransaction")}},"执行池子参数，发布池子")),o.createElement(D.Z,null,o.createElement("div",{className:"contentInputView"},o.createElement(te,{data:"取消时间锁提案描述",inputValue:T,changeInput:function(e){P(e||"")}})),o.createElement("div",{className:"contentButton",onClick:function(){L("cancelTransaction")}},"取消池子参数(多签)，取消发布池子")))}function ae(e){e.userinfo,e.mulitName;var t=e.hasRoule,n=(0,j.$)().t,a=(0,o.useRef)();return(0,o.useEffect)((function(){return function(){}}),[]),o.createElement("div",{className:"BuyBackMulit",ref:a},o.createElement(s.Z,{tabs:[{title:n("SousChef"),node:o.createElement(ne,{viewHasRoule:t,addChefInputList:["token:抵押token地址","poolType:池子类型","minDeposit:最低充值","startBlock:开始时间区块号","claimDirectPercent:可直接提现比例","allocPoint:分配点数","redemptionDelay:到期赎回时间","redemptionPeriod:赎回周期,0表示活期"],addressAbi:"SousChef",editChefInputList:["pids:池子PID","allocPoint:分配点数"],getDataFunNameAdd:"poolAdd",getDataFunNameUpdate:"setPoolsSous"})},{title:n("MasterChef"),node:o.createElement(ne,{viewHasRoule:t,addChefInputList:["token:抵押token地址","allocPoint:分配点","lastRewardBlock:区块号lastRewardBlock","accT42PerShare:accT42PerShare","ticket:VIP池门票","pooltype:池子种类"],editChefInputList:["pids","allocPoint"],addressAbi:"MasterChef",getDataFunNameAdd:"addPools",getDataFunNameUpdate:"setPools"})}]}))}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ce(e){var t=e.data,n=e.inputValue,a=e.changeInput,r=(0,j.$)().t;return o.createElement(o.Fragment,null,o.createElement("input",{placeholder:r("请输入".concat(t)),value:n||"",onChange:function(e){a(e.target.value)},className:"contentInput"}),n?o.createElement("div",{style:{color:"#ccc"},onClick:function(){a("")}},"清除"):null)}function ue(e){var t=e.addChefInputList,n=e.getDataFunNameAdd,c=e.getDataFunNameUpdate,m=e.editChefInputList,d=e.viewHasRoule,p=e.abiList,v=e.updateType,h=(0,o.useRef)(),b=(0,Q.UO)().mulitname,Z=(0,o.useState)([]),E=(0,r.Z)(Z,2),y=E[0],k=E[1],w=(0,o.useState)([]),x=(0,r.Z)(w,2),g=x[0],N=x[1],C=(0,o.useState)(""),S=(0,r.Z)(C,2),O=S[0],B=S[1],T=(0,o.useState)(0),V=(0,r.Z)(T,2),I=V[0],R=V[1],L=(0,o.useState)(!1),U=(0,r.Z)(L,2),M=U[0],z=U[1],J=(0,o.useState)(""),$=(0,r.Z)(J,2),G=$[0],H=$[1],W=(0,o.useState)(),q=(0,r.Z)(W,2),K=q[0],X=q[1],Y=(0,o.useState)(),ee=(0,r.Z)(Y,2),te=ee[0],ne=ee[1],ae=(0,j.$)().t,ue=function(){var e=(0,a.Z)(u().mark((function e(n){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.length==t.length){e.next=3;break}return i.Z.show("请输入正确的值"),e.abrupt("return",!1);case 3:if(!(0,A.isEmpty)(O)){e.next=6;break}return i.Z.show("请选择需要升级的合约"),e.abrupt("return",!1);case 6:a="",(a="upgradeTo"===n?(0,_.Mo)(O.abiJson,n,[y[0]]):(0,_.Mo)("ParaProxy",n,[y[0]]))&&(console.log(a,n),g[0]=O.address,g[3]=a,N((0,l.Z)(g)));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=(0,a.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.length==m.length){e.next=3;break}return i.Z.show("请输入正确的值"),e.abrupt("return",!1);case 3:if(!(0,A.isEmpty)(O)){e.next=6;break}return i.Z.show("请选择需要升级的合约"),e.abrupt("return",!1);case 6:(n=(0,_.Mo)(O.abiJson,t,[O.address]))&&(g[0]=y[0],g[3]=n,console.log(n,t),N((0,l.Z)(g)));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=(0,a.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=3;break}return i.Z.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 3:return e.next=5,(0,_.eJ)("TimeLock","queueTransaction",["address","uint256","string","bytes","uint256"].map((function(e,t){return g[t]||(1==t?"0":"")})));case 5:return t=e.sent,n=[G||F.Z.TimeLock,0,t],e.next=9,(0,_.y)(b,n,K);case 9:e.sent&&i.Z.show("提交成功");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=(0,a.Z)(u().mark((function e(t){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("executeTransaction"!=t){e.next=7;break}return e.next=3,(0,_.z1)(["address","uint256","string","bytes","uint256"].map((function(e,t){return g[t]||(1==t?"0":"")})),G);case 3:e.sent&&i.Z.show("执行成功"),e.next=18;break;case 7:if(d){e.next=10;break}return i.Z.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 10:return e.next=12,(0,_.eJ)("TimeLock","cancelTransaction",["address","uint256","string","bytes","uint256"].map((function(e,t){return g[t]||(1==t?"0":"")})));case 12:return n=e.sent,a=[G||F.Z.TimeLock,0,n],e.next=16,(0,_.y)(b,a,te);case 16:e.sent&&i.Z.show("提交成功");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.lockAddress){e.next=4;break}H(O.lockAddress),e.next=8;break;case 4:return e.next=6,(0,_.fp)(O.abiJson,O.address,O.searchLockFun);case 6:t=e.sent,H(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){return function(){k([]),N([]),B({})}}),[v]),(0,o.useEffect)((function(){R(0)}),[n]),(0,o.useEffect)((function(){O.abi&&ie()}),[O.abi]),o.createElement("div",{ref:h},o.createElement(D.Z,null,o.createElement("div",{onClick:function(){z(!M)}},(0,A.isEmpty)(O)?"选择要升级的合约名称":"升级合约：".concat(O.abi))),o.createElement(D.Z,null,o.createElement(s.Z,{defaultIndex:I,onChange:function(e){R(e),k([]),N([]),X(""),ne("")},tabs:[{title:"执行方法一",node:o.createElement(o.Fragment,null,t.map((function(e,t){return o.createElement("div",{className:"contentInputView mt-10",key:t},o.createElement(ce,{data:e,inputValue:y[t],changeInput:function(e){y[t]=e,k((0,l.Z)(y))}}))})),o.createElement("div",{className:"contentButton",onClick:function(){ue(n)}},"生成执行方法一时间锁Data"))},c?{title:"执行方法二",node:o.createElement(o.Fragment,null,m.map((function(e,t){return o.createElement("div",{className:"contentInputView  mt-10",key:t},o.createElement(ce,{data:e,inputValue:y[t],changeInput:function(e){y[t]=e,k((0,l.Z)(y))}}))})),o.createElement("div",{className:"contentButton",onClick:function(){oe(c)}},"生成执行方法二时间锁Data"))}:null].filter((function(e){return e}))})),o.createElement(D.Z,null,[{type:"address",textShow:"执行地址"},{type:"uint256",textShow:"发送BNB数量"},{type:"string",textShow:"描述"},{type:"bytes",textShow:"生成的Data"},{type:"uint256",textShow:"排队结束时间戳"}].map((function(e,t){return o.createElement("div",{className:"contentInputView",key:t},o.createElement(ce,{data:e.textShow,inputValue:g[t],changeInput:function(e){g[t]=e,N((0,l.Z)(g))}}))}))),o.createElement(D.Z,null,o.createElement("div",{className:"contentInputView"},o.createElement(ce,{data:"发布时间锁提案描述",inputValue:K,changeInput:function(e){X(e||"")}})),o.createElement("div",{className:"contentButton",onClick:se},"发布时间锁提案，发起升级提案")),o.createElement(D.Z,null,o.createElement("div",{className:"contentButton mb-10",onClick:function(){le("executeTransaction")}},"执行时间锁，执行升级")),o.createElement(D.Z,null,o.createElement("div",{className:"contentInputView"},o.createElement(ce,{data:"取消时间锁提案描述",inputValue:te,changeInput:function(e){ne(e||"")}})),o.createElement("div",{className:"contentButton",onClick:function(){le("cancelTransaction")}},"取消时间锁，发起取消升级提案")),o.createElement(P.Z,{title:"选择合约",visible:M,width:"80%",mountContainer:function(){return h.current},footer:o.createElement(o.Fragment,null,o.createElement("div",{className:"contentButton closeButton",onClick:function(){z(!1)}},ae("common.cancel")))},p.map((function(e,t){return o.createElement("div",{key:t,className:"flex-row fl-jc-between mb-10",onClick:function(){B(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),z(!1)}},o.createElement("div",null,e.abi),o.createElement("div",null,e.abi==O.abi?"已选择":"未选择"))}))))}function oe(e){e.userinfo,e.mulitName;var t=e.hasRoule,n=(0,j.$)().t;return(0,o.useEffect)((function(){return function(){}}),[]),o.createElement("div",{className:"BuyBackMulit"},o.createElement(s.Z,{tabs:[{title:n("SousChef类合约"),node:o.createElement(ue,{viewHasRoule:t,updateType:"firstType",addChefInputList:["address:升级地址"],getDataFunNameAdd:"upgradeTo",abiList:G.Z.updateAddressOneFunList})},{title:n("MasterChef类合约"),node:o.createElement(ue,{viewHasRoule:t,updateType:"secondType",abiList:G.Z.updateAddressTwoFunList,addChefInputList:["address:升级地址"],getDataFunNameAdd:"_setPendingImplementation",editChefInputList:["address:升级地址"],getDataFunNameUpdate:"_become"})}]}))}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e){var t=e.data,n=e.inputValue,a=e.changeInput,r=(0,j.$)().t;return o.createElement(o.Fragment,null,o.createElement("input",{placeholder:r("请输入".concat(t)),value:n||"",onChange:function(e){a(e.target.value)},className:"contentInput"}),n?o.createElement("div",{style:{color:"#ccc"},onClick:function(){a("")}},"清除"):null)}function me(e){var t=e.hasRoule,n=e.lockFunList,c=(0,o.useRef)(),s=(0,Q.UO)().mulitname,m=(0,o.useState)([]),f=(0,r.Z)(m,2),d=f[0],p=f[1],v=(0,o.useState)([]),h=(0,r.Z)(v,2),b=h[0],Z=h[1],E=(0,o.useState)(""),y=(0,r.Z)(E,2),k=y[0],w=y[1],x=(0,o.useState)(""),g=(0,r.Z)(x,2),N=g[0],C=g[1],S=(0,o.useState)(!1),O=(0,r.Z)(S,2),B=O[0],T=O[1],V=(0,o.useState)(""),I=(0,r.Z)(V,2),R=I[0],L=I[1],U=(0,o.useState)(),M=(0,r.Z)(U,2),z=M[0],J=M[1],$=(0,o.useState)(),G=(0,r.Z)($,2),H=G[0],W=G[1],q=(0,j.$)().t,K=function(){var e=(0,a.Z)(u().mark((function e(t){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.length==N.paramType.length){e.next=3;break}return i.Z.show("请输入正确的值"),e.abrupt("return",!1);case 3:n=d.map((function(e,t){return N.paramType[t].type.indexOf("[]")>-1?(e||"").split("-"):e||""})),(a=(0,_.Mo)(N.abiJson,N.functionKey,n))&&(b[0]=N.address,b[3]=a,Z((0,l.Z)(b)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=(0,a.Z)(u().mark((function e(){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return i.Z.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 3:return e.next=5,(0,_.eJ)("TimeLock","queueTransaction",["address","uint256","string","bytes","uint256"].map((function(e,t){return b[t]||(1==t?"0":"")})));case 5:return n=e.sent,a=[R||F.Z.TimeLock,0,n],e.next=9,(0,_.y)(s,a,z);case 9:e.sent&&i.Z.show("提交成功");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=(0,a.Z)(u().mark((function e(n){var a,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("executeTransaction"!=n){e.next=7;break}return e.next=3,(0,_.z1)(["address","uint256","string","bytes","uint256"].map((function(e,t){return b[t]||(1==t?"0":"")})),R);case 3:e.sent&&i.Z.show("执行成功"),e.next=18;break;case 7:if(t){e.next=10;break}return i.Z.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 10:return e.next=12,(0,_.eJ)("TimeLock","cancelTransaction",["address","uint256","string","bytes","uint256"].map((function(e,t){return b[t]||(1==t?"0":"")})));case 12:return a=e.sent,r=[R||F.Z.TimeLock,0,a],e.next=16,(0,_.y)(s,r,H);case 16:e.sent&&i.Z.show("提交成功");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k.lockAddress){e.next=4;break}L(k.lockAddress),e.next=8;break;case 4:return e.next=6,(0,_.fp)(k.abiJson,k.address,k.searchLockFun);case 6:t=e.sent,L(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){k.abi&&ee()}),[k.abi]),(0,o.useEffect)((function(){return function(){}}),[]),o.createElement("div",{className:"BuyBackMulit"},o.createElement("div",{ref:c},o.createElement(D.Z,null,o.createElement("div",{onClick:function(){T(!B)}},(0,A.isEmpty)(k)?"选择要执行时间锁的合约及方法":"时间锁执行".concat(k.abi,"-").concat(N.label))),(0,A.isEmpty)(N.paramType)?null:o.createElement(D.Z,null,N.paramType.map((function(e,t){return o.createElement("div",{className:"contentInputView",key:t},o.createElement(ie,{data:e.textShow,inputValue:d[t],changeInput:function(e){d[t]=e,p((0,l.Z)(d))}}))})),o.createElement("div",{className:"contentButton",onClick:function(){K()}},"生成执行方法一时间锁Data")),o.createElement(D.Z,null,[{type:"address",textShow:"执行地址"},{type:"uint256",textShow:"发送BNB数量"},{type:"string",textShow:"描述"},{type:"bytes",textShow:"生成的Data"},{type:"uint256",textShow:"排队结束时间戳"}].map((function(e,t){return o.createElement("div",{className:"contentInputView",key:t},o.createElement(ie,{data:e.textShow,inputValue:b[t],changeInput:function(e){b[t]=e,Z((0,l.Z)(b))}}))}))),o.createElement(D.Z,null,o.createElement("div",{className:"contentInputView"},o.createElement(ie,{data:"发布时间锁提案描述",inputValue:z,changeInput:function(e){J(e||"")}})),o.createElement("div",{className:"contentButton",onClick:X},"发布时间锁提案，发起升级提案")),o.createElement(D.Z,null,o.createElement("div",{className:"contentButton mb-10",onClick:function(){Y("executeTransaction")}},"执行时间锁，执行升级")),o.createElement(D.Z,null,o.createElement("div",{className:"contentInputView"},o.createElement(ie,{data:"取消时间锁提案描述",inputValue:H,changeInput:function(e){W(e||"")}})),o.createElement("div",{className:"contentButton",onClick:function(){Y("cancelTransaction")}},"取消时间锁，发起取消升级提案")),o.createElement(P.Z,{title:"选择要执行的方法",visible:B,width:"80%",mountContainer:function(){return c.current},footer:o.createElement(o.Fragment,null,o.createElement("div",{className:"contentButton closeButton",onClick:function(){T(!1)}},q("common.cancel")))},o.createElement("div",{className:"mb-10"},"选择要执行的合约"),n.map((function(e,t){return o.createElement("div",{key:t,className:"flex-row fl-jc-between mb-10",onClick:function(){w(le({},e)),C({})}},o.createElement("div",null,e.abi),o.createElement("div",null,e.abi==k.abi?"已选择":"未选择"))})),o.createElement("div",{className:"mb-10"}),(0,A.isEmpty)(k.secondLsit)?null:o.createElement("div",{className:"mb-10"},"选择要执行的方法"),(0,A.isEmpty)(k.secondLsit)?null:k.secondLsit.map((function(e,t){return o.createElement("div",{key:t,className:"flex-row fl-jc-between mb-10",onClick:function(){C(le({},e)),T(!1)}},o.createElement("div",null,e.label),o.createElement("div",null,e.label==N.label?"已选择":"未选择"))})))))}function fe(){var e=(0,ee.Z)(),t=e.setAddress,n=e.user,c=(0,o.useState)([]),l=(0,r.Z)(c,2),i=l[0],m=l[1],f=(0,o.useState)("NO Content"),d=(0,r.Z)(f,2),p=d[0],v=(d[1],(0,o.useState)(!1)),h=(0,r.Z)(v,2),b=h[0],Z=h[1],E=(0,Q.UO)().mulitname,y=(0,j.$)().t,k=function(){var e=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.ni)(F.Z[E],n.address);case 2:t=e.sent,Z(t||!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){var e=[];G.Z.isBuyBackList.indexOf(E)>-1&&e.push({title:y("回购多签"),node:o.createElement(Y,{userinfo:n,mulitName:E,hasRoule:b})}),G.Z.LockTimeFun[E]&&G.Z.LockTimeFun[E].length&&e.push({title:y("时间锁"),node:o.createElement(me,{userinfo:n,mulitName:E,hasRoule:b,lockFunList:G.Z.LockTimeFun[E]})}),G.Z.isUpdateAddresslist.indexOf(E)>-1&&e.push({title:y("升级合约"),node:o.createElement(oe,{userinfo:n,mulitName:E,hasRoule:b})}),G.Z.isChangePoolList.indexOf(E)>-1&&e.push({title:y("增改池子"),node:o.createElement(ae,{userinfo:n,mulitName:E,hasRoule:b})}),e.push({title:y("多签管理"),node:o.createElement(H,{userinfo:n,mulitName:E,hasRoule:b})}),m([].concat(e))}),[b,n.address]),(0,o.useEffect)((function(){n.address||t(),n.address&&k(),document.title="V42-Admin"}),[n.address]),o.createElement("div",{className:"DHCProjectAdmin"},i.length?o.createElement(s.Z,{tabs:i}):o.createElement("div",{className:"tipstext"},p))}}}]);