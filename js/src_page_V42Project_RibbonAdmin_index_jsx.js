"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["src_page_V42Project_RibbonAdmin_index_jsx"],{23497:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var a=n(15861),r=n(70885),s=n(64687),c=n.n(s),i=n(67294),u=n(2089),o=n(64478),d=n(5977),l=n(41449),h=n(38104),f=n(95370),b=n(68735),m=n(67959),p=n(63474),v=n(34234);function Z(e){var t=e.userinfo,n=e.roleHash,s=void 0===n?"":n,u=e.searchRole,o=void 0===u?[]:u,d=e.keytext,f=void 0===d?"":d,b=(0,i.useState)(0),m=(0,r.Z)(b,2),p=m[0],v=m[1],Z=function(){var e=(0,a.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.th)({abi:"ParaRibbon",address:h.Z.ParaRibbon,params:[s,null==t?void 0:t.address]});case 2:n=e.sent,v(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){t.address&&Z()}),[t.address,f]),i.createElement("div",{className:"UserLsitChange"},o.map((function(e,t){return i.createElement("div",{key:t},i.createElement(w,{viewtitle:e.title,searchHash:e.hash,canChange:p,switchFunStatus:e.switchFun,changeSwitchFunStatus:e.changeSwitchFun}))})))}function w(e){var t=e.viewtitle,n=void 0===t?"":t,s=e.canChange,u=void 0!==s&&s,d=e.searchHash,f=void 0===d?"":d,b=(e.switchFunStatus,e.changeSwitchFunStatus,(0,o.$)().t),Z=(0,i.useState)(""),w=(0,r.Z)(Z,2),k=w[0],R=w[1],x=(0,i.useState)(!1),E=(0,r.Z)(x,2),S=E[0],C=E[1],g=(0,i.useState)(!1),N=(0,r.Z)(g,2),P=N[0],y=N[1],F=function(){var e=(0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=3;break}return m.Z.show(b("无权限操作")),e.abrupt("return",!1);case 3:return e.next=5,(0,v.Z)({abi:"ParaRibbon",address:h.Z.ParaRibbon,params:[k,!0],method:"setWhiteRole",type:"send"});case 5:e.sent&&(m.Z.show(b("操作成功")),y(!1),C(!1));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=3;break}return m.Z.show(b("无权限操作")),e.abrupt("return",!1);case 3:return e.next=5,(0,v.Z)({abi:"ParaRibbon",address:h.Z.ParaRibbon,params:[k,!1],method:"setWhiteRole",type:"send"});case 5:e.sent&&(m.Z.show(b("操作成功")),y(!1),C(!1));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,a.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=4;break}return m.Z.show(b("请输入正确的地址")),C(!1),e.abrupt("return",!1);case 4:return e.next=6,(0,l.th)({abi:"ParaRibbon",address:h.Z.ParaRibbon,params:[f,k]});case 6:t=e.sent,C(!0),y(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.createElement("div",{className:"UserLsitChange"},i.createElement(p.Z,{blockClass:"structuredFundCFAdminItem"},i.createElement("div",{className:"contents mb-10"},n),i.createElement("div",{className:"contentInputView"},i.createElement("input",{placeholder:b("请输入地址"),value:k,onChange:function(e){return R(e.target.value)},className:"contentInput"})),i.createElement("div",{className:"contentButton mb-10",onClick:function(){A()}},n),S?P?i.createElement("div",{className:"contentButton",onClick:function(){H(k)}},b("从名单中删除")):i.createElement("div",{className:"contentButton",onClick:function(){F(k)}},b("从名单中添加")):null))}function k(){var e=(0,b.Z)(),t=e.setAddress,n=e.user,s=(0,i.useState)([]),m=(0,r.Z)(s,2),p=m[0],v=m[1],w=(0,i.useState)("NO Content"),k=(0,r.Z)(w,2),R=k[0],x=(k[1],(0,i.useState)(!1)),E=(0,r.Z)(x,2),S=E[0],C=E[1],g=((0,d.UO)().mulitname,(0,o.$)().t),N=function(){var e=(0,a.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.th)({abi:"ParaRibbon",address:h.Z.ParaRibbon,params:[f.Z.RibbonHash,null==n?void 0:n.address]});case 2:t=e.sent,C(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){var e=[];e.push({title:g("白名单管理"),node:i.createElement(Z,{role:S,userinfo:n,keytext:"ribbon",roleHash:f.Z.RibbonHash,searchRole:[{title:"白名单查询",hash:f.Z.RibbonIsWhiteHash}]})}),v([].concat(e))}),[S,n.address]),(0,i.useEffect)((function(){n.address||t(),n.address&&N(),document.title="V42-Admin"}),[n.address]),i.createElement("div",{className:"RibbonAdmin"},p.length?i.createElement(u.Z,{tabs:p}):i.createElement("div",{className:"tipstext"},R))}}}]);